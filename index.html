<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hedonist Lounge ‚Äî Home</title>
<meta name="description" content="Hedonist Lounge ‚Äî Real nights in Budapest. Explore events, playlists, and the live soundtrack playing now.">
<meta name="theme-color" content="#0b0b0c">
<link rel="icon" type="image/png" href="H.png">
<link rel="preload" as="image" href="H.png" imagesrcset="H.png 1x">
<link rel="preconnect" href="https://display.soundtrack.io" crossorigin>
<link rel="dns-prefetch" href="//display.soundtrack.io">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#0b0b0c;--fg:#fff;--muted:#9b9b9b;--neon1:#19f0a8;--neon2:#6c48ff;--font:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
*{box-sizing:border-box;margin:0;padding:0}
body{margin:0;color:var(--fg);font-family:var(--font);background:radial-gradient(circle at 15% 25%,rgba(25,240,168,.05),transparent 70%),radial-gradient(circle at 80% 75%,rgba(108,72,255,.06),transparent 70%),var(--bg);background-size:200% 200%;animation:aurora 22s ease-in-out infinite alternate;overflow-x:hidden;position:relative}
@keyframes aurora{0%{background-position:20% 20%,80% 80%}100%{background-position:70% 40%,30% 90%}}
.container{max-width:720px;margin:0 auto;padding:24px;position:relative;z-index:2}
.header-link{text-decoration:none;color:inherit;display:block}
.header{display:flex;align-items:center;gap:16px;margin-bottom:20px}
.logo{width:60px;height:60px;border-radius:14px;overflow:hidden;box-shadow:0 0 22px rgba(25,240,168,.18);flex-shrink:0;transition:transform .3s ease,box-shadow .3s ease}
.logo:hover{transform:scale(1.06);box-shadow:0 0 28px rgba(25,240,168,.32)}
.logo img{width:100%;height:100%;object-fit:contain}
.title h1{font-size:clamp(22px,4vw,34px);font-weight:800;letter-spacing:.4px;text-shadow:0 0 10px rgba(25,240,168,.22),0 0 14px rgba(108,72,255,.18)}
.title p{margin-top:4px;color:var(--muted);font-size:14px;letter-spacing:.4px}

.card{background:transparent;border:none;box-shadow:none;backdrop-filter:none;overflow:hidden;margin-bottom:20px}
.card-head{display:flex;justify-content:space-between;align-items:center;padding:6px 4px 10px}
.card-head-title{font-weight:700;color:#e8e8e8;font-size:13px;display:flex;align-items:center;gap:8px;text-transform:uppercase;letter-spacing:.8px}
.dot{width:9px;height:9px;border-radius:50%;background:radial-gradient(circle at 40% 40%,#3cffc3,#00e39a);box-shadow:0 0 10px rgba(25,240,168,.72);animation:pulse 2s ease-in-out infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
.toggle-btn{background:none;border:1px solid rgba(255,255,255,.08);color:var(--muted);font-size:13px;border-radius:10px;padding:4px 9px;cursor:pointer;transition:all .25s ease;backdrop-filter:blur(8px)}
.toggle-btn:hover{color:var(--fg);border-color:rgba(255,255,255,.25);box-shadow:0 0 16px rgba(25,240,168,.25),0 0 26px rgba(108,72,255,.2)}

.player{display:flex;justify-content:center;align-items:center;border:none;background:transparent;box-shadow:none;transition:height .35s ease,opacity .3s ease;overflow:hidden;height:220px}
.player.hidden{height:0;opacity:0;padding:0;margin:0}
.player-frame{width:100%;max-width:560px;height:210px;border:0;transform:translateZ(0)}

.section{margin:22px 0}
.section-title{font-size:16px;font-weight:800;letter-spacing:.8px;color:#fff;margin:18px 0 12px;text-shadow:0 0 8px rgba(25,240,168,.22)}
.list{display:grid;gap:12px}
.btn{display:flex;align-items:center;gap:12px;padding:14px;border-radius:14px;text-decoration:none;color:var(--fg);background:rgba(26,27,30,.7);border:1px solid rgba(255,255,255,.08);transition:all .25s ease;backdrop-filter:blur(8px);position:relative;overflow:hidden}
.btn:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.25);box-shadow:0 0 16px rgba(25,240,168,.25),0 0 26px rgba(108,72,255,.2)}
.emoji{font-size:18px}
.txt{display:flex;flex-direction:column}
.txt strong{font-size:16px;font-weight:700}
.txt span{font-size:13px;color:var(--muted)}
.hr{height:1px;border:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent);margin:12px 0}
.footer{text-align:center;color:var(--muted);font-size:13px;margin:22px 0 8px;letter-spacing:.4px}
.footer span{color:var(--neon1)}
.footer[aria-label]{display:block}

#easter{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;font-weight:700;color:var(--fg);text-shadow:0 0 10px var(--neon1),0 0 20px var(--neon2);opacity:0;transition:opacity .4s ease,transform .4s ease;pointer-events:none;z-index:99}
#easter.show{opacity:1;transform:translate(-50%,-50%) scale(1.1)}

.calendar-wrapper{margin:8px 0 24px;padding:8px;background:rgba(9,10,14,.9);border-radius:18px;box-shadow:0 0 22px rgba(25,240,168,.22),0 0 38px rgba(108,72,255,.2);transition:opacity .25s ease,transform .25s ease}
.calendar-wrapper.hidden{display:none}
.calendar-frame{width:100%;height:560px;border:0;border-radius:12px;background:#000}
@media(max-width:768px){
  .calendar-wrapper{margin:6px 0 20px;padding:6px}
  .calendar-frame{height:520px}
}

/* event widget + mood + crowd */
#event-widget{margin:10px 0 20px;padding:12px 14px;border-radius:18px;background:rgba(9,10,14,.95);box-shadow:0 0 18px rgba(25,240,168,.18),0 0 28px rgba(108,72,255,.18);display:flex;flex-direction:column;gap:6px}
#event-banner{display:flex;flex-direction:column;gap:4px}
#event-title{font-size:15px;font-weight:700;letter-spacing:.6px}
#event-datetime{font-size:13px;color:var(--muted)}
#countdown{font-size:13px;margin-top:4px}
#crowd-level{font-size:13px;margin-top:2px}
.theme-comedy{box-shadow:0 0 20px rgba(255,221,85,.5),0 0 34px rgba(255,194,40,.3)}
.theme-techno{box-shadow:0 0 22px rgba(180,0,255,.6),0 0 40px rgba(108,72,255,.4)}
.theme-openmic{box-shadow:0 0 20px rgba(85,255,153,.5),0 0 36px rgba(25,240,168,.35)}
.theme-quiz{box-shadow:0 0 20px rgba(85,170,255,.5),0 0 34px rgba(80,140,255,.35)}
.theme-generic{box-shadow:0 0 18px rgba(255,255,255,.18),0 0 30px rgba(120,120,120,.3)}
.crowd-high{text-shadow:0 0 12px rgba(255,80,80,.9)}
.crowd-medium{text-shadow:0 0 10px rgba(255,200,80,.85)}
.crowd-low{text-shadow:0 0 10px rgba(80,255,180,.85)}
body.mood-day .container{box-shadow:0 0 26px rgba(25,240,168,.15)}
body.mood-night .container{box-shadow:0 0 32px rgba(108,72,255,.25)}
body.mood-weekend .container{box-shadow:0 0 36px rgba(25,240,168,.3)}
body.mood-stage .container{box-shadow:0 0 40px rgba(255,80,80,.3)}
</style>
</head>
<body>
<div class="container">
  <a href="#" class="header-link" aria-label="Hedonist Lounge ‚Äî Home">
    <div class="header">
      <div class="logo"><img src="H.png" alt="Hedonist Lounge logo"></div>
      <div class="title">
        <h1>Hedonist Lounge</h1>
        <p>Real nights ‚Ä¢ Budapest</p>
      </div>
    </div>
  </a>

  <div class="card section">
    <div class="card-head">
      <div class="card-head-title"><span class="dot"></span>NOW PLAYING</div>
      <button
        id="togglePlayer"
        class="toggle-btn"
        aria-controls="player"
        aria-expanded="true"
        onclick="(function(btn){
          var p=document.getElementById('player');
          if(!p) return;
          var hidden=p.classList.toggle('hidden');
          btn.textContent=hidden?'üéß Show Player':'üéß Hide Player';
          btn.setAttribute('aria-expanded', String(!hidden));
          try{localStorage.setItem('playerHidden', hidden?'true':'false');}catch(e){}
        })(this)"
      >üéß Hide Player</button>
    </div>
    <div class="card-body">
      <div id="player" class="player">
        <iframe class="player-frame" src="https://display.soundtrack.io/BLLARJ" allowfullscreen loading="eager" referrerpolicy="no-referrer"></iframe>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="list">
      <h2 class="section-title">Find Us</h2>

      <div id="event-widget">
        <div id="event-banner">
          <div id="event-title">Tonight at Hedonist</div>
          <div id="event-datetime"></div>
        </div>
        <div id="countdown"></div>
        <div id="crowd-level"></div>
      </div>

      <a class="btn" href="https://www.facebook.com/hedonistbudapest2/events" target="_blank" rel="noopener">
        <div class="emoji">üóìÔ∏è</div>
        <div class="txt">
          <strong>Events</strong>
          <span>Upcoming nights & tickets</span>
        </div>
      </a>

      <button
        id="toggleCalendar"
        class="toggle-btn"
        style="margin-top:10px;margin-bottom:6px"
        aria-controls="calendarBlock"
        aria-expanded="false"
        onclick="(function(btn){
          var c=document.getElementById('calendarBlock');
          if(!c) return;
          var hidden=c.classList.toggle('hidden');
          btn.textContent=hidden?'üóìÔ∏è Show Calendar':'üóìÔ∏è Hide Calendar';
          btn.setAttribute('aria-expanded', String(!hidden));
        })(this)"
      >üóìÔ∏è Show Calendar</button>

      <div id="calendarBlock" class="calendar-wrapper hidden">
        <iframe
          class="calendar-frame"
          src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=Europe%2FBudapest&showPrint=0&showTabs=0&showCalendars=0&showTz=0&showTitle=0&src=hedonist1234%40hotmail.com&color=%23e4c441"
          loading="lazy"
          frameborder="0"
          scrolling="no">
        </iframe>
      </div>

      <a class="btn" href="https://calendar.google.com/calendar/r?cid=hedonist1234@hotmail.com" target="_blank" rel="noopener">
        <div class="emoji">üìÖ</div>
        <div class="txt">
          <strong>Add to Calendar</strong>
          <span>Subscribe on your device</span>
        </div>
      </a>

      <div class="hr"></div>
      <h2 class="section-title">Playlists</h2>
      <a class="btn" href="https://open.spotify.com/playlist/26tdudnXR3SUfCjyElU09Z?si=iNsLSwXdTMqQRrrr4ZC6Iw" target="_blank" rel="noopener">
        <div class="emoji">‚òÄÔ∏è</div>
        <div class="txt">
          <strong>Goood Morning Budapest</strong>
          <span>Breakfast time ‚Ä¢ calm & easy</span>
        </div>
      </a>
      <a class="btn" href="https://open.spotify.com/playlist/04n8porc6EUwHQ3fr5iN6i?si=ushVdx3OQa2KVB0pgLihfQ" target="_blank" rel="noopener">
        <div class="emoji">üåû</div>
        <div class="txt">
          <strong>Have a lovely day</strong>
          <span>Pre-party time ‚Ä¢ warm & groovy</span>
        </div>
      </a>
      <a class="btn" href="https://open.spotify.com/playlist/592sxbGZtkpqE8T3t4ocGL?si=E_U8CaREQh6b4aboeX5CkQ&pi=EBFfo2PvRg2HF" target="_blank" rel="noopener">
        <div class="emoji">üåô</div>
        <div class="txt">
          <strong>Night is young</strong>
          <span>Party time ‚Ä¢ deep & electric</span>
        </div>
      </a>

      <div class="hr"></div>
      <h2 class="section-title">Follow Us</h2>
      <a class="btn" href="https://www.facebook.com/hedonistbudapest2" target="_blank" rel="noopener">
        <div class="emoji">üìò</div>
        <div class="txt">
          <strong>Facebook</strong>
          <span>Updates & events</span>
        </div>
      </a>
      <a class="btn" href="https://www.instagram.com/hedonistbudapest_" target="_blank" rel="noopener">
        <div class="emoji">üì∏</div>
        <div class="txt">
          <strong>Instagram</strong>
          <span>Stories & moments</span>
        </div>
      </a>

      <div class="hr"></div>
      <h2 class="section-title">Feedback</h2>
      <a class="btn" href="mailto:hedonistlounge@hotmail.com" rel="noopener">
        <div class="emoji">üí≠</div>
        <div class="txt">
          <strong>Share a Thought</strong>
          <span>We read everything</span>
        </div>
      </a>
    </div>
  </div>

  <div class="footer" aria-label="copyright">¬© <span>Hedonist Lounge</span> ‚Äî Budapest</div>
</div>

<div id="easter"></div>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-VY0CKKGRDP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-VY0CKKGRDP', { 'anonymize_ip': true });
</script>

<script>
(function(){
  var player=document.getElementById('player');
  var btn=document.getElementById('togglePlayer');
  if(player && btn){
    var isHidden=false;
    try{ isHidden = (localStorage.getItem('playerHidden')==='true'); }catch(e){}
    if(isHidden){
      player.classList.add('hidden');
      btn.textContent='üéß Show Player';
      btn.setAttribute('aria-expanded','false');
    }else{
      btn.setAttribute('aria-expanded','true');
    }
  }

  var easter=document.getElementById('easter');
  var phrases=["you found the vibe","hedonist mode on","lights low, minds high","real nights only","glow with it"];
  document.addEventListener('keydown',function(e){
    if((e.key||'').toLowerCase()==='h'){
      var text=phrases[Math.floor(Math.random()*phrases.length)];
      easter.textContent=text;
      easter.classList.add('show');
      setTimeout(function(){easter.classList.remove('show')},2200);
    }
  });
})();
</script>

<script>
(function(){
  var CALENDAR_ID="hedonist1234@hotmail.com";
  var GOOGLE_API_KEY="AIzaSyCTT7Pe7lXIRtyVekGrikxNVi0eqMGMX-U";
  var LAT=47.4979;
  var LON=19.0402;
  var EVENT_TYPE_MAP=[
    {keyword:"comedy",type:"comedy"},
    {keyword:"stand up",type:"comedy"},
    {keyword:"stand-up",type:"comedy"},
    {keyword:"techno",type:"techno"},
    {keyword:"dj",type:"techno"},
    {keyword:"open mic",type:"openmic"},
    {keyword:"quiz",type:"quiz"}
  ];

  function detectEventType(title){
    var t=(title||"").toLowerCase();
    for(var i=0;i<EVENT_TYPE_MAP.length;i++){
      if(t.indexOf(EVENT_TYPE_MAP[i].keyword)!==-1) return EVENT_TYPE_MAP[i].type;
    }
    return "generic";
  }

  function applyEventTheme(type){
    var widget=document.getElementById("event-widget");
    if(!widget) return;
    var body=document.body;
    widget.classList.remove("theme-comedy","theme-techno","theme-openmic","theme-quiz","theme-generic");
    body.classList.remove("mood-day","mood-night","mood-weekend","mood-stage");

    if(type==="comedy") widget.classList.add("theme-comedy");
    else if(type==="techno") widget.classList.add("theme-techno");
    else if(type==="openmic") widget.classList.add("theme-openmic");
    else if(type==="quiz") widget.classList.add("theme-quiz");
    else widget.classList.add("theme-generic");

    var now=new Date();
    var hour=now.getHours();
    var day=now.getDay();

    if(hour>=18) body.classList.add("mood-night");
    else body.classList.add("mood-day");
    if(day===5||day===6) body.classList.add("mood-weekend");
    if(type==="comedy"||type==="openmic") body.classList.add("mood-stage");
  }

  function fetchNextEvent(){
    var nowIso=new Date().toISOString();
    var url="https://www.googleapis.com/calendar/v3/calendars/"+encodeURIComponent(CALENDAR_ID)+"/events?key="+encodeURIComponent(GOOGLE_API_KEY)+"&timeMin="+encodeURIComponent(nowIso)+"&singleEvents=true&orderBy=startTime&maxResults=1";
    return fetch(url).then(function(res){
      return res.json();
    }).then(function(data){
      if(!data.items||!data.items.length) return null;
      return data.items[0];
    }).catch(function(){
      return null;
    });
  }

  function fetchWeather(){
    var url="https://api.open-meteo.com/v1/forecast?latitude="+LAT+"&longitude="+LON+"&current_weather=true&hourly=precipitation_probability&forecast_days=1&timezone=Europe/Budapest";
    return fetch(url).then(function(res){
      return res.json();
    }).catch(function(){
      return null;
    });
  }

  function predictCrowdLevel(eventType,startDate,weather){
    var score=0;
    var day=startDate.getDay();
    var hour=startDate.getHours();

    if(eventType==="techno") score+=3;
    if(eventType==="comedy"||eventType==="openmic"||eventType==="quiz") score+=2;
    if(day===5||day===6) score+=2;
    if(hour>=20&&hour<=23) score+=2;

    var rainProb=null;
    if(weather&&weather.hourly&&weather.hourly.time&&weather.hourly.precipitation_probability){
      var targetHourStr=startDate.toISOString().slice(0,13);
      for(var i=0;i<weather.hourly.time.length;i++){
        if(weather.hourly.time[i].slice(0,13)===targetHourStr){
          rainProb=weather.hourly.precipitation_probability[i];
          break;
        }
      }
    }

    if(rainProb!=null){
      if(rainProb<30) score+=1;
      else if(rainProb>70) score-=1;
    }

    if(score>=6) return {label:"Busy night expected tonight.",level:"high"};
    if(score>=3) return {label:"Moderate crowd expected tonight.",level:"medium"};
    return {label:"A mellow night expected tonight.",level:"low"};
  }

  function startCountdown(startDate,title){
    var countdownEl=document.getElementById("countdown");
    if(!countdownEl) return;
    function update(){
      var now=Date.now();
      var diff=startDate.getTime()-now;
      if(diff<=0){
        countdownEl.textContent="The event has started.";
        return;
      }
      var hours=Math.floor(diff/3600000);
      var minutes=Math.floor((diff%3600000)/60000);
      countdownEl.textContent=title+" starts in "+hours+" hours "+minutes+" minutes.";
    }
    update();
    setInterval(update,30000);
  }

  function initEventWidget(){
    var widget=document.getElementById("event-widget");
    if(!widget) return;
    Promise.all([fetchNextEvent(),fetchWeather()]).then(function(results){
      var event=results[0];
      var weather=results[1];
      if(!event){
        widget.style.display="none";
        return;
      }
      var titleEl=document.getElementById("event-title");
      var datetimeEl=document.getElementById("event-datetime");
      var crowdEl=document.getElementById("crowd-level");

      var title=event.summary||"Hedonist Lounge Event";
      var startStr=null;
      if(event.start){
        if(event.start.dateTime) startStr=event.start.dateTime;
        else if(event.start.date) startStr=event.start.date+"T20:00:00";
      }
      if(!startStr) startStr=new Date().toISOString();
      var startDate=new Date(startStr);

      if(titleEl) titleEl.textContent=title;
      if(datetimeEl) datetimeEl.textContent=startDate.toLocaleString("en-GB",{dateStyle:"full",timeStyle:"short"});

      var eventType=detectEventType(title);
      applyEventTheme(eventType);

      var crowd=predictCrowdLevel(eventType,startDate,weather);
      if(crowdEl){
        crowdEl.textContent=crowd.label;
        crowdEl.classList.remove("crowd-high","crowd-medium","crowd-low");
        if(crowd.level==="high") crowdEl.classList.add("crowd-high");
        if(crowd.level==="medium") crowdEl.classList.add("crowd-medium");
        if(crowd.level==="low") crowdEl.classList.add("crowd-low");
      }

      startCountdown(startDate,title);
    }).catch(function(){
      var widget=document.getElementById("event-widget");
      if(widget) widget.style.display="none";
    });
  }

  document.addEventListener("DOMContentLoaded",initEventWidget);
})();
</script>
</body>
</html>
